<binding name="binding_service_config" package="com.citic.server.runtime.conf">
	<mapping abstract="true" type-name="configuration" class="com.citic.server.runtime.conf.Configuration">
		<value style="attribute" name="usage" get-method="getUsage" set-method="setUsage" usage="optional" />
		<collection name="properties" get-method="getProperties" set-method="setProperties" usage="optional" create-type="java.util.ArrayList">
			<structure map-as="property" name="property" />
		</collection>
		<collection name="taskdefs" get-method="getTaskdefs" set-method="setTaskdefs" usage="optional" create-type="java.util.ArrayList">
			<structure type="com.citic.server.runtime.conf.TaskDef" name="taskdef">
				<value style="attribute" name="id" get-method="getId" set-method="setId" usage="required" />
				<value style="attribute" name="alias" get-method="getAlias" set-method="setAlias" usage="optional" />
				<value style="attribute" name="name" get-method="getName" set-method="setName" usage="optional" />
				<value style="element" name="outerclass" get-method="getOuterClass" set-method="setOuterClass" usage="optional" />
				<value style="element" name="innerclass" get-method="getInnerClass" set-method="setInnerClass" usage="optional" />
				<collection name="properties" get-method="getProperties" set-method="setProperties" usage="optional" create-type="java.util.ArrayList">
					<structure map-as="property" name="property" />
				</collection>
			</structure>
		</collection>
		<structure name="listendefs" usage="optional">
			<structure type="com.citic.server.runtime.conf.HttpListenDef" get-method="getHttpListenDef" set-method="setHttpListenDef" name="httpdef" usage="optional">
				<value style="attribute" name="port" get-method="getPort" set-method="setPort" usage="required" />
				<collection get-method="getCommands" set-method="setCommands" usage="optional" create-type="java.util.ArrayList">
					<structure type="com.citic.server.runtime.conf.HttpListenCommand" name="command">
						<value style="attribute" name="id" get-method="getId" set-method="setId" usage="required" />
						<value style="attribute" name="alias" get-method="getAlias" set-method="setAlias" usage="optional" />
						<value style="attribute" name="name" get-method="getName" set-method="setName" usage="optional" />
						<value style="attribute" name="uri" get-method="getUri" set-method="setUri" usage="required" />
						<value style="element" name="outerclass" get-method="getOuterClass" set-method="setOuterClass" usage="optional" />
						<value style="element" name="innerclass" get-method="getInnerClass" set-method="setInnerClass" usage="optional" />
						<collection name="properties" get-method="getProperties" set-method="setProperties" usage="optional" create-type="java.util.ArrayList">
							<structure map-as="property" name="property" />
						</collection>
					</structure>
				</collection>
			</structure>
			<structure type="com.citic.server.runtime.conf.SocketListenDef" get-method="getSocketListenDef" set-method="setSocketListenDef" name="socketdef" usage="optional">
				<collection get-method="getCommands" set-method="setCommands" usage="optional" create-type="java.util.ArrayList">
					<structure type="com.citic.server.runtime.conf.SocketListenCommand" name="command">
						<value style="attribute" name="id" get-method="getId" set-method="setId" usage="required" />
						<value style="attribute" name="alias" get-method="getAlias" set-method="setAlias" usage="optional" />
						<value style="attribute" name="name" get-method="getName" set-method="setName" usage="optional" />
						<value style="attribute" name="port" get-method="getPort" set-method="setPort" usage="required" />
						<value style="element" name="outerclass" get-method="getOuterClass" set-method="setOuterClass" usage="optional" />
						<value style="element" name="innerclass" get-method="getInnerClass" set-method="setInnerClass" usage="optional" />
						<collection name="properties" get-method="getProperties" set-method="setProperties" usage="optional" create-type="java.util.ArrayList">
							<structure map-as="property" name="property" />
						</collection>
					</structure>
				</collection>
			</structure>
		</structure>
	</mapping>
	
    <mapping abstract="true" type-name="property" class="com.citic.server.runtime.conf.Property">
        <value style="attribute" name="name" get-method="getName" set-method="setName" usage="required" />
        <value style="attribute" name="value" get-method="getValue" set-method="setValue" usage="optional" />
        <value style="attribute" name="encrypt" get-method="isEncrypt" set-method="setEncrypt" usage="optional" />
        <value style="attribute" name="descr" get-method="getDescr" set-method="setDescr" usage="optional" />
        <collection get-method="getOptions" set-method="setOptions" usage="optional" create-type="java.util.ArrayList">
            <structure type="com.citic.server.runtime.conf.Option" name="option">
                <value style="attribute" name="usage" get-method="getUsage" set-method="setUsage" usage="required" />
                <value style="attribute" name="encrypt" get-method="isEncrypt" set-method="setEncrypt" usage="optional" />
                <value style="text" get-method="getValue" set-method="setValue" usage="optional" />
            </structure>
        </collection>
    </mapping>
    
	<mapping class="com.citic.server.runtime.conf.Configuration" name="configuration">
		<structure map-as="configuration" />
	</mapping>
</binding>