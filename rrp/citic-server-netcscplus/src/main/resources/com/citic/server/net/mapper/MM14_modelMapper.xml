<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.citic.server.net.mapper.MM14_modelMapper">

	<select id="getMM14_modelList"   resultType="com.citic.server.service.domain.MM14_model">
		SELECT MODELKEY,MODELNAME,INTERFACTKEY,MODEL_TYPE,MODEL_LOGIC,LINK_FORMULA,CRIMINAL_TYPE,FREQ,RUNDAY,MODEL_DESC FROM MM14_model  
		where INTERFACTKEY='2'  and flag='5'
	</select>
	
	<select id="getMM14_model" parameterType="String" resultType="com.citic.server.service.domain.MM14_model" >
		SELECT MODELKEY,MODELNAME,INTERFACTKEY,MODEL_TYPE,MODEL_LOGIC,LINK_FORMULA,CRIMINAL_TYPE,FREQ,RUNDAY,MODEL_DESC FROM MM14_model 
		WHERE modelkey=#{modelkey}
	</select>

   <select id="getMM14_linkList"  parameterType="String" resultType="com.citic.server.service.domain.MM14_link">
		SELECT t1.MODELKEY,t1.LINKKEY,t1.LINKNAME,t1.LINK_LOGIC,t1.SCORE,t1.FORMULA FROM MM14_link t1,MM14_model t2
		 where t1.modelkey=t2.modelkey   AND t2.INTERFACTKEY='2'
		 <where> 
      <if test="_parameter != null  and _parameter != '' "> 
         t1.modelkey = #{modelkey} 
      </if> 
    </where> 
	</select>
	<select id="getMM14_link_eventList"  parameterType="String" resultType="com.citic.server.service.domain.MM14_link_event">
		SELECT t1.MODELKEY,t1.LINKKEY,t1.EVENTKEY,t1.EVENT_SCORE FROM MM14_link_event t1,MM14_model t2 
		where t1.modelkey=t2.modelkey  AND t2.INTERFACTKEY='2'
		 <where> 
      <if test="_parameter != null  and _parameter != '' "> 
         t1.modelkey = #{modelkey} 
      </if> 
    </where> 
	</select>

</mapper>


