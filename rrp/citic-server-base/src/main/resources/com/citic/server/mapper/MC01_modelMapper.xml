<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.citic.server.mapper.MC01_modelMapper">

	<select id="getMC01_modelListForSplit" resultType="MC01_model" parameterType="String">
		select mtaskkey,modelkey,case when modeltype is null or modeltype='' then '1' else modeltype end as modeltype,modelname,databegin_dt,dataend_dt,calmodule,starttime,creator,create_dt,flag,calbegin_dt,calend_dt,des
 		from mc01_model where flag in ('2','5') order by create_dt asc
	</select>
	
	<select id="getMC01_modelListForCal" resultType="MC01_model" parameterType="String">
		select mtaskkey,modelkey,case when modeltype is null or modeltype='' then '1' else modeltype end as modeltype,modelname,databegin_dt,dataend_dt,calmodule,starttime,creator,create_dt,flag,calbegin_dt,calend_dt,des
 		from mc01_model where flag in ('3') order by create_dt asc
	</select>
	
	<update id="modifyMC01_model" parameterType="MC01_model">
		update MC01_model set flag=#{flag},calbegin_dt=#{calbegin_dt},calend_dt=#{calend_dt}
		where mtaskkey=#{mtaskkey}
	</update>
	
</mapper>


